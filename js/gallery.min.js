const Gallery=e=>{const s=e=>Array.from(e.children).map(e=>{const t=e.children[0],n=t.getAttribute("data-size").split("x"),s=t.children[0];return{div:e,src:t.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10),msrc:s.getAttribute("src")}}),n=(e,t)=>{const o=document.querySelectorAll(".pswp")[0],n=s(e),i=e=>{const s=window.pageYOffset||document.documentElement.scrollTop,o=n[e].div.getElementsByTagName("img")[0],t=o.getBoundingClientRect();return{x:t.left,y:t.top+s,w:t.width}},a=e.classList.contains("keep-aspect-ratio"),r={index:t,getThumbBoundsFn:a?i:void 0};gallery=new PhotoSwipe(o,PhotoSwipeUI_Default,n,r),gallery.init()},o=(e,t)=>{const s=t||window.event;s.preventDefault?s.preventDefault():s.returnValue=!1;const o=s.target||s.srcElement,i=parseInt(o.getAttribute("data-index"),10);return n(e,i),!1},i=e=>{const t=new URLSearchParams(window.location.hash.substr(1)),s=t.get("pid"),o=t.get("gid");if(!s||!o)return;n(e,parseInt(s,10))},t=document.querySelectorAll(e)[0];Array.from(t.getElementsByTagName("img")).forEach(e=>e.onclick=e=>o(t,e)),i(t)};Gallery(".grid")